<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Water-Borne Disease Dashboard - India</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 40vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .active-disease {
            background-color: #0d9488 !important; /* teal-600 */
            color: white !important;
            border-color: #0d9488 !important;
        }
        input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            background: #cbd5e1;
            outline: none;
            opacity: 0.7;
            transition: opacity .2s;
            border-radius: 4px;
        }
        input[type="range"]:hover {
            opacity: 1;
        }
        input[type="range"]::-webkit-slider-thumb,
        input[type="range"]::-moz-range-thumb {
            width: 25px;
            height: 25px;
            background: var(--thumb-color, #10b981);
            cursor: pointer;
            border-radius: 50%;
            border: 2px solid #fff;
            transition: background 0.3s ease, transform 0.2s ease;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

<div class="container mx-auto p-4 md:p-8">

    <header class="text-center mb-8">
        <h1 class="text-3xl md:text-5xl font-bold text-teal-800">Water Quality & Health in India</h1>
        <p class="text-lg text-gray-600 mt-2">An interactive dashboard exploring the link between water parameters and common diseases.</p>
    </header>

    <main>
        <!-- Disease Selector -->
        <section id="disease-selector" class="mb-8">
            <h2 class="text-2xl font-bold text-center mb-4 text-gray-700">Select a Disease to Explore</h2>
            <div id="disease-buttons" class="flex flex-wrap justify-center gap-2 md:gap-4">
                <!-- Buttons injected by JS -->
            </div>
        </section>

        <!-- Dashboard -->
        <section id="dashboard" class="grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8 mb-8">
            <!-- Left Panel: Details -->
            <div class="lg:col-span-1 bg-white p-6 rounded-lg shadow-md flex flex-col">
                <div class="flex items-center mb-3">
                    <h3 id="disease-title" class="text-2xl font-bold text-teal-700"></h3>
                </div>
                <p id="disease-description" class="text-gray-600 flex-grow"></p>
            </div>

            <!-- Center Panel: Chart -->
            <div class="lg:col-span-2 bg-white p-6 rounded-lg shadow-md">
                <h3 class="text-2xl font-bold mb-4 text-center text-gray-700">Key Risk Factor Analysis</h3>
                <div class="chart-container">
                    <canvas id="riskChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Water Quality Indicators -->
        <section id="water-quality-indicators" class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8 mb-8">
            <div class="bg-white p-6 rounded-lg shadow-md text-center">
                <h4 class="text-xl font-bold text-gray-700 mb-2">pH Level Risk</h4>
                <p class="text-gray-600 mb-4">Ideal drinking water pH is 6.5-8.5.</p>
                <div id="ph-indicator" class="p-4 rounded-lg">
                    <p class="font-bold text-lg text-white">Unsafe Range for Disease:</p>
                    <p id="ph-range" class="font-mono text-2xl text-white"></p>
                </div>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md text-center">
                <h4 class="text-xl font-bold text-gray-700 mb-2">TDS Level Risk</h4>
                <p class="text-gray-600 mb-4">Total Dissolved Solids (TDS) ideal level is < 500 ppm.</p>
                <div id="tds-indicator" class="p-4 rounded-lg">
                    <p class="font-bold text-lg text-white">Unsafe Range for Disease:</p>
                    <p id="tds-range" class="font-mono text-2xl text-white"></p>
                </div>
            </div>
        </section>

        <!-- TDS Level Prober -->
        <section id="tds-prober" class="bg-white p-6 md:p-8 rounded-lg shadow-md mb-8">
            <h2 class="text-2xl font-bold text-center mb-4 text-teal-800">Find Probable Disease by TDS Level</h2>
            <p class="text-center text-gray-600 mb-6">Drag the slider to a TDS value to see the most probable disease.</p>
            <div class="flex items-center gap-4 mb-4">
                <span class="text-lg font-semibold text-gray-700 w-16 text-right">TDS:</span>
                <span id="tds-value-display" class="text-lg font-bold text-teal-600 w-16 text-center">0</span>
                <span class="text-lg text-gray-600">ppm</span>
                <input type="range" id="tds-slider" min="0" max="1500" value="0" class="flex-grow" aria-label="Select TDS level">
            </div>
            <div id="probable-disease-display" class="text-center bg-gray-100 rounded-lg border border-gray-200 p-4">
                <p class="text-xl font-semibold text-gray-700">Probable Disease: <span id="probable-disease-name" class="font-bold text-teal-700">None found</span></p>
            </div>
        </section>

        <!-- Prevention Section -->
        <section id="prevention" class="bg-white p-6 md:p-8 rounded-lg shadow-md">
            <h2 class="text-2xl md:text-3xl font-bold text-center mb-6 text-teal-800">Protect Yourself: Prevention is Key</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 text-center">
                <div class="flex flex-col items-center">
                    <span class="text-5xl mb-2">üíß</span>
                    <h4 class="font-bold text-lg">Boil Water</h4>
                    <p class="text-gray-600">Bring water to a rolling boil for at least 1-3 minutes to kill most pathogens.</p>
                </div>
                <div class="flex flex-col items-center">
                     <span class="text-5xl mb-2">üõ°Ô∏è</span>
                    <h4 class="font-bold text-lg">Use Filters</h4>
                    <p class="text-gray-600">Use a reliable water filter (RO, UV) certified to remove bacteria and viruses.</p>
                </div>
                <div class="flex flex-col items-center">
                    <span class="text-5xl mb-2">üßº</span>
                    <h4 class="font-bold text-lg">Wash Hands</h4>
                    <p class="text-gray-600">Practice good hygiene, especially before eating and after using the toilet.</p>
                </div>
                <div class="flex flex-col items-center">
                    <span class="text-5xl mb-2">üçé</span>
                    <h4 class="font-bold text-lg">Clean Food</h4>
                    <p class="text-gray-600">Wash fruits and vegetables thoroughly with safe, clean water before consumption.</p>
                </div>
            </div>
        </section>

    </main>

    <footer class="text-center mt-8 py-4 border-t">
        <p class="text-gray-500">Data for illustrative purposes. Always consult public health authorities for official information.</p>
    </footer>

</div>

<script>
const diseaseData = {
    'Cholera': { description: "An acute diarrheal illness caused by Vibrio cholerae bacteria. High pH favors survival.", unsafe_ph: { min: 8.5, max: 9.5 }, unsafe_tds: { min: 1000 }, risk_factors: { ph: 7, tds: 9 } },
    'Typhoid': { description: "Bacterial infection caused by Salmonella Typhi. Persists in high organic content water.", unsafe_ph: { min: 4.5, max: 5.5, or_min: 8.0 }, unsafe_tds: { min: 800 }, risk_factors: { ph: 5, tds: 8 } },
    'Dysentery': { description: "Intestinal inflammation leading to severe diarrhea.", unsafe_ph: { min: 5.0, max
